!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(){y(),b(),u(),c(),$("#linkToProjects").attr("href","Projects.html?"+B+","+O)}function s(){M.isSignedIn()?($("#navAccount").show(),$("#navSignin").hide(),$("#welcomeName").html(M.getProfile().getGivenName()),$("#welcome").removeClass("hidden"),""==B?gapi.client.happiness.getCurrentUser().execute(function(e){e.code?console.log(e.code):(B=e.defaultTeachingTerm,a())}):a(),vex.defaultOptions.className="vex-theme-os"):$("#navAccount").hide()}function o(){D=!D,gapi.client.happiness.teachingTerm.setJoinable({id:B,joinable:D}).execute(function(e){c()})}function c(){gapi.client.happiness.getTeachingTerm({id:B}).execute(function(e){$("#joinToggle").html('<i class="fa fa-toggle-off fa-2x" style="font-size: 20px;"></i>'),e.code?console.log(e.message):(D=e.joinable,q.label=e.label,q.standupArchiveEmail=e.standupArchiveEmail,D&&$("#joinToggle").html('<i class="fa fa-toggle-on fa-2x" style="font-size: 20px;"></i>'))}),$("#joinToggle").html('<i class="fa fa-toggle-off fa-2x" style="font-size: 20px;"></i>')}function r(){$("#user-list").html("");var e=document.getElementById("searchStringFld").value;gapi.client.happiness.findUser({searchString:e}).execute(function(e){if(e.code)window.alert(e.code);else{e.items=e.items||[];for(var t=0;t<e.items.length;t++){var n=e.items[t].id,i=e.items[t].givenName,a=e.items[t].surName;l(n,i+" "+a)}var s={valueNames:["user_name","user_id"]};new List("user-section",s)}})}function l(e,t){var n="<li  onclick=\"editUser('"+e+"')\">";n+='<span class="user_name">'+t+"</span>",n+='<span class="user_id hidden">'+e,n+="</span>",n+="</li>",$("#user-list").append(n)}function u(){$("#project-list").html(""),gapi.client.happiness.listProject({teachingTerm:B}).execute(function(e){if(e.code)window.alert(e.code);else{e.items=e.items||[];for(var t=!1,n=0;n<e.items.length;n++){var i=e.items[n].id,a=e.items[n].name;p(i,a),t||(setProject(i),t=!0)}var s={valueNames:["project_name","project_id"]};new List("project-section",s)}})}function p(e,t){var n='<li onclick="setProject('+e+');" value="'+e+'">';n+='<div style=" ">',n+='<span class="project_name">'+t+"</span>",n+='<span class="project_id hidden">'+e,n+="</span>",n+="</div>",n+='<div style="float:right; margin-top:-30px; ">',n+='<a onclick="deleteProject('+e+');" class=" btn  fa-stack fa-lg fa-cancel-stack" >',n+=' <i class="fa fa-circle fa-stack-2x fa-cancel-btn-circle fa-hover"></i>',n+='<i  class="fa fa-times fa-stack-1x fa-inverse fa-cancel-btn"></i>',n+="</a>",n+='<a onclick="editProject('+e+');" class=" btn  fa-stack fa-lg fa-editor-stack" >',n+=' <i class="fa fa-circle fa-stack-2x fa-editor-btn-circle fa-hover"></i>',n+='<i  class="fa fa-pencil fa-stack-1x fa-inverse fa-editor-btn"></i>',n+="</a>",n+='<a onclick="sendTeamEmail('+e+');" class=" btn  fa-stack fa-lg fa-editor-stack">',n+=' <i class="fa fa-circle fa-stack-2x fa-email-btn-circle fa-hover"></i>',n+='<i  class="fa fa-envelope fa-stack-1x fa-inverse fa-email-btn"></i>',n+="</a>",n+="</div>",n+="</li>",$("#project-list").append(n)}function d(e){gapi.client.happiness.listHapiness({teachingTerm:B,projectId:e}).execute(function(e){if(e.code)alertify.error("Bad response"),"undefined"==typeof e.message&&console.log(e.message);else{"undefined"==typeof e.items&&alertify.error("No data found for selected project");for(var t=[],n=[],i=[],a=0;a<e.items.length;a++)if($.inArray(e.items[a].sprint,i)==-1){var s={};s.year=e.items[a].sprint+"",i.push(e.items[a].sprint);for(var o=0;o<e.items.length;o++){if(e.items[a].sprint==e.items[o].sprint){var c=e.items[o].userName;s[c]=e.items[o].happiness.toString()}$.inArray(e.items[o].userName,n)==-1&&n.push(e.items[o].userName)}t.push(s)}$("#happiness-area-chart").empty();Morris.Line({element:"happiness-area-chart",data:t,xLabels:"year",xkey:"year",ymin:-3,ymax:3,yLabelFormat:function(e){return e!=Math.round(e)?"":e},gridTextSize:13,ykeys:n,labels:n,xLabelFormat:function(e){return e.getFullYear()-1900},pointSize:3,hideHover:"true",resize:!0})}})}function m(e){gapi.client.happiness.listStandup({teachingTerm:B,projectID:e}).execute(function(e){if(e.code)alertify.error("Bad response"),"undefined"==typeof e.message&&console.log(e.message);else{"undefined"==typeof e.items&&alertify.error("No standup data found for selected project");for(var t=[],n=[],i=0;i<e.items.length;i++){var a={};a.year=e.items[i].sprintNumber+"";for(var s=e.items[i].userName,o=e.items[i].standupCount,c=0;c<s.length;++c)a[s[c]]=o[c],$.inArray(s[c],n)==-1&&n.push(s[c]);t.push(a)}$("#standup-bar-chart").empty();Morris.Bar({element:"standup-bar-chart",data:t,xLabels:"year",xkey:"year",ykeys:n,labels:n,yLabelFormat:function(e){return e!=Math.round(e)?"":e},gridTextSize:13,pointSize:3,hideHover:"true",resize:!0})}})}function f(e){$("#standup-timeline").empty(),gapi.client.happiness.listStandupMessages({projectID:e}).execute(function(e){if(!e.code){for(var t=[],n=0;n<e.items.length;n++){var i=e.items[n];$.inArray(i.sprintNumber,t)==-1&&(v("Week "+i.sprintNumber),t.push(i.sprintNumber)),g(i)}var a={valueNames:["timelineUserName","timelineTime","timelineContent","timelineType"],page:10,plugins:[ListPagination({})]},s=new List("timeline",a);s.sort("timelineTime",{order:"desc"}),s.filter(function(e){return"label"==e.values().timelineType||"done"==e.values().timelineType}),document.getElementById("timelineFilterDone").onclick=function(){s.filter(),s.filter(function(e){return"label"==e.values().timelineType||"done"==e.values().timelineType})},document.getElementById("timelineFilterChallenge").onclick=function(){s.filter(),s.filter(function(e){return"label"==e.values().timelineType||"challenges"==e.values().timelineType})},document.getElementById("timelineFilterPlans").onclick=function(){s.filter(),s.filter(function(e){return"label"==e.values().timelineType||"plans"==e.values().timelineType})},document.getElementById("timelineFilterAll").onclick=function(){s.filter()}}})}function g(e){var t="<li>";t+='<i class="fa fa-comments bg-yellow"></i>',t+='<span class="timelineType" style="display:none;">done</span>',t+='<div class="timeline-item">',t+='<span class="time" ><i class="fa fa-clock-o"></i><span class="timelineTime">Week '+e.sprintNumber+"</span></span>",t+=' <h3 class="timeline-header timelineUserName"><b>'+e.userName+"</b> did this </h3>",t+='<div class="timeline-body timelineContent">',t+=e.done,t+="</div>",t+="</div>",t+="</li>",t+="<li>",t+='<i class="fa fa-exclamation-triangle bg-red"></i>',t+='<span class="timelineType" style="display:none;">challenges</span>',t+='<div class="timeline-item">',t+='<span class="time" ><i class="fa fa-clock-o"></i><span class="timelineTime">Week '+e.sprintNumber+"</span></span>",t+=' <h3 class="timeline-header timelineUserName"><b>'+e.userName+"</b> faced this challenge </h3>",t+='<div class="timeline-body timelineContent">',t+=e.challenges,t+="</div>",t+="</div>",t+="</li>",t+="<li>",t+='<i class="fa fa-star bg-green"></i>',t+='<span class="timelineType" style="display:none;">plans</span>',t+='<div class="timeline-item">',t+='<span class="time" ><i class="fa fa-clock-o"></i><span class="timelineTime">Week '+e.sprintNumber+"</span></span>",t+=' <h3 class="timeline-header timelineUserName"><b>'+e.userName+"</b> plans this </h3>",t+='<div class="timeline-body timelineContent">',t+=e.plan,t+="</div>",t+="</div>",t+="</li>",$("#standup-timeline").append(t)}function v(e){var t='<li class="time-label">';t+='<span class="timelineType" style="display:none;">label</span>',t+='<span class="bg-red timelineTime">',t+=e,t+="</span>",t+="</li>",$("#standup-timeline").append(t)}function h(e){$("#project-list > li").removeClass("activeProject"),$("#project-list > li[value="+e+"]").addClass("activeProject")}function y(){gapi.client.happiness.listTeachingTerm().execute(function(e){if(!e.code)for(var t=0;t<e.items.length;t++){var n=e.items[t],i="",a="";n.id==B&&(a='selected="selected"'),i+="<option "+a+' value="'+n.id+'">'+n.label+"</option>",$("#techingTerm-selector").append(i)}$("#techingTerm-selector").selectmenu({select:function(e,t){gapi.client.happiness.setDefaultTeachingTerm({defaultTeachingTerm:t.item.value}).execute(function(e){}),window.location="admin.html?"+t.item.value}}),$("#techingTerm-selector").selectmenu("refresh")})}function b(){$("#list1").html(""),gapi.client.happiness.getTeachingTerm({id:B}).execute(function(e){if(!e.code){var t=e.sprints;if("undefined"!=typeof t)for(var n=0;n<t.length;n++){var i=new Date(t[n].deadline),a=(i.getMonth()+1).toString();1==a.length&&(a="0"+a);var s=i.getDate().toString();1==s.length&&(s="0"+s);var o=(i.getUTCHours()+L).toString();1==o.length&&(o="0"+o);var c=i.getMinutes().toString();1==c.length&&(c="0"+c),x(i.getFullYear()+"-"+a+"-"+s+"T"+o+":"+c)}else x("");T()}})}function x(e){var t='<li class="list1_var">';t+=' <input type="text" size="40" name="list1_0" id="list1_0" value="'+e+'" >',t+='<button class="list1_del btn btn-sm">Delete</button>',t+="</li>",$("#list1").append(t)}function T(){$("#list1").addInputArea({after_add:function(){j()}}),j()}function j(){jQuery(".list1_var > input").datetimepicker({timepicker:!0,formatDate:"Y-m-d",onChangeDateTime:function(e,t){var n=t.val();n=N(n,10,"T"),n=n.replace("/","-"),t.val(n)}})}function N(e,t,n){return t>e.length-1?e:e.substr(0,t)+n+e.substr(t+1)}function k(){var e=1,t=[];$(".list1_var > input").each(function(){var n={},i=new Date($(this).val());i.setUTCHours(i.getUTCHours()),n.deadline=i.toISOString(),n.sprintNumber=e++,t.push(n)});var n={};n.id=B,n.label=$("#techingTerm-selector option:selected").text(),n.sprints=t,gapi.client.happiness.updateTeachingTerm(n).execute(function(e){e.code?alertify.error("Sprints were not updated"):alertify.success("Sprints have been updated")})}function E(){var e='<input name="projectName" type="text" placeholder="Project Name"  required />\n<input name="projectDescription" type="text" placeholder="Project Description" required />\n';vex.dialog.open({message:"Create New Project",input:e,buttons:[$.extend({},vex.dialog.buttons.YES,{text:"Create"}),$.extend({},vex.dialog.buttons.NO,{text:"Cancel"})],callback:function(e){if(e===!1)return console.log("Cancelled");var t={};t.name=e.projectName,t.description=e.projectDescription,t.teachingTerm=B,gapi.client.happiness.insertProject(t).execute(function(e){e.code||(alertify.success("Project created"),u())})}})}function w(){var e='<input name="label" type="text" placeholder="Label"  required />\n';e+='<input name="standupArchiveEmail" type="text" placeholder="Standup Archive Email"  required />\n',vex.dialog.open({message:"Create New TeachingTerm (Group of Projects)",input:e,buttons:[$.extend({},vex.dialog.buttons.YES,{text:"Create"}),$.extend({},vex.dialog.buttons.NO,{text:"Cancel"})],callback:function(e){if(e===!1)return console.log("Cancelled");var t={};t.label=e.label,t.standupArchiveEmail=e.standupArchiveEmail,gapi.client.happiness.insertTeachingTerm(t).execute(function(e){e.code?console.log(e.message):(alertify.success("Teaching term created"),window.location="admin.html?"+e.id)})}})}function S(){var e='<input name="label" type="text" value="'+q.label+'"  required />\n';e+='<input name="standupArchiveEmail" type="text" value="'+q.standupArchiveEmail+'"  required />\n',vex.dialog.open({message:"Rename Teaching Term (Group of Projects)",input:e,buttons:[$.extend({},vex.dialog.buttons.YES,{text:"Update"}),$.extend({},vex.dialog.buttons.NO,{text:"Cancel"})],callback:function(e){return e===!1?console.log("Cancelled"):void gapi.client.happiness.editTeachingTerm({id:B,label:e.label,standupArchiveEmail:e.standupArchiveEmail}).execute(function(t){t.code?console.log(t.message):(alertify.success("Teaching term updated"),$("#techingTerm-selector option:selected").text(e.label),$("#techingTerm-selector").selectmenu("refresh"))})}})}function P(){vex.dialog.confirm({message:"Confirm deletion of course",callback:function(e){return e===!1?console.log("Cancelled"):void gapi.client.happiness.removeTeachingTerm({id:B}).execute(function(e){e.code?console.log(e.message):(alertify.success("Teaching term deleted"),window.location="admin.html")})}})}function U(e,t){for(var n='Manager: <select name="manager" id="managerSelector">',i=0;i<e.items.length;i++){var a=e.items[i];n+=t==a.id?'<option selected="selected" value="'+a.id+'">'+a.givenName+"</option>\n":'<option value="'+a.id+'">'+a.givenName+"</option>\n"}return n+="</select>\n"}var C=n(1),A=i(C),R=n(2),_=(i(R),n(3)),I=i(_);(0,I["default"])("https://apis.google.com/js/client.js?onload=loadPlatform","client"),window.loadPlatform=function(){(0,I["default"])("https://apis.google.com/js/platform.js?onload=init","google-api")};var B,O,D,M,q={};window.init=function(){$("#navAccount").hide();var e=window.location.search;"?"==e.substring(0,1)&&(e=e.substring(1));for(var t=e.split(","),n=0;n<t.length;n++)t[n]=unescape(t[n]);B=t[0],O=t[1],(0,A["default"])(s).then(function(e){M=e}),document.getElementById("navBtnSigninGoogle").onclick=function(){M.changeAccount()},document.getElementById("searchUserBtn").onclick=function(){r()},document.getElementById("updateSprintsBtn").onclick=function(){k()},document.getElementById("createProjectBtn").onclick=function(){E()},document.getElementById("createTeachingTermBtn").onclick=function(){w()},document.getElementById("editTeachingTermBtn").onclick=function(){S()},document.getElementById("deleteTeachingTermBtn").onclick=function(){P()},document.getElementById("btnJoinableToggle").onclick=function(){o()}},window.setProject=function(e){d(e),m(e),h(e),f(e)},window.editUser=function(e){gapi.client.happiness.getUser({id:e}).execute(function(t){if(!t.code){var n='<input name="givenName" type="text" placeholder="Given Name"  value="'+t.givenName+'" required />\n<input name="surName" type="text" placeholder="Surname" value="'+t.surName+'" required />\n<input name="email" type="text" placeholder="Email" value="'+t.email+'" required />\n';switch(t.type){case"MODERATOR":n+='User Group: <select name="type" id="userRole"><option value="USER">User</option><option selected="selected" value="MODERATOR">Moderator</option><option value="ADMIN">Admin</option></select>\n';break;case"ADMIN":n+='User Group: <select name="type" id="userRole"><option value="USER">User</option><option value="MODERATOR">Moderator</option><option selected="selected" value="ADMIN">Admin</option></select>\n';break;default:n+='User Group: <select name="type" id="userRole"><option value="USER">User</option><option value="MODERATOR">Moderator</option><option value="ADMIN">Admin</option></select>\n'}vex.dialog.open({message:"Update User Information",input:n,buttons:[$.extend({},vex.dialog.buttons.YES,{text:"Submit"}),$.extend({},vex.dialog.buttons.NO,{text:"Cancel"})],callback:function(n){if(n===!1)return console.log("Cancelled");var i=(n.givenName,n.surName,n.email,{});i.id=e,i.type=n.type,i.givenName=n.givenName,i.surName=n.surName,i.email=n.email,i.projects=t.projects,i.defaultTeachingTerm=t.defaultTeachingTerm,gapi.client.happiness.updateUser(i).execute(function(e){e.code||alertify.success("User data updated")})}})}})};var L=2;window.editProject=function(e){gapi.client.happiness.getProject({id:e}).execute(function(t){t.code||gapi.client.happiness.listManager().execute(function(n){if(!t.code){var i='Name: <input name="projectName" type="text" placeholder="Project Name" value="'+t.name+'" required /><br/>\nDescription: <input name="projectDescription" type="text" placeholder="Project Description" value="'+t.description+'" required /><br/>\n'+U(n,t.managerID);vex.dialog.open({message:"Update User Information",input:i,buttons:[$.extend({},vex.dialog.buttons.YES,{text:"Submit"}),$.extend({},vex.dialog.buttons.NO,{text:"Cancel"})],callback:function(n){if(n===!1)return console.log("Cancelled");var i=(n.givenName,n.surName,n.email,{});i.id=e,i.name=n.projectName,i.description=n.projectDescription,i.teachingTerm=B,i.users=t.users,i.managerID=n.manager,gapi.client.happiness.updateProject(i).execute(function(e){e.code||(alertify.success("Project description updated"),u())})}})}})})},window.deleteProject=function(e){vex.dialog.confirm({message:"Are you sure you want to delete this project?",callback:function(t){t?gapi.client.happiness.removeProject({id:e}).execute(function(e){e.code||(alertify.success("Project description updated"),u())}):console.log("canceled")}})},window.sendTeamEmail=function(e){var t='Subject: <input name="subject" type="text" placeholder="Subject" required /><br/>\nMessage: <textarea rows="15" cols="200" name="message" type="text" placeholder="Email Body"  required /><br/>\n';vex.dialog.open({message:"Send a message to the team",contentCSS:{width:"600px"},input:t,buttons:[$.extend({},vex.dialog.buttons.YES,{text:"Send"}),$.extend({},vex.dialog.buttons.NO,{text:"Cancel"})],callback:function(t){return t===!1?console.log("Cancelled"):(t.message=t.message.replace(/\n/g,"<br/>"),void gapi.client.happiness.sendTeamEmail({projectID:e,subject:t.subject,message:t.message}).execute(function(e){e.code||alertify.success("Email sent")}))}})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=new Promise(function(t,n){var i,a,s=function(){0==--a&&(i=ReactDOM.render(React.createElement(o["default"],{client_id:r,scopes:c,callback:e}),document.getElementById("accountView")),t(i))};a=2,gapi.client.load("happiness","v2",s,"https://2-dot-uni1-happy.appspot.com/_ah/api"),gapi.load("auth2",s)});return t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var s=n(2),o=i(s),c="https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",r="728995435943-2qqb570ukek75pvmv3i813ohecvr5rrh.apps.googleusercontent.com"},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setType=a.setType.bind(a),a.getJoinedProjects=a.getJoinedProjects.bind(a),a.state={name:"",email:"",picSrc:"",type:""},a.auth2=gapi.auth2.init({client_id:a.props.client_id,scope:a.props.scope}),a.signin(),a}return a(t,e),s(t,[{key:"signin",value:function(){var e=this;this.auth2.currentUser.listen(function(t){t.isSignedIn()&&(e.setUser(e.getProfile()),e.setType(),e.props.callback())})}},{key:"changeAccount",value:function(e){this.auth2.signIn({prompt:"select_account"}).then(e)}},{key:"getProfile",value:function(){return this.auth2.currentUser.get().getBasicProfile()}},{key:"isSignedIn",value:function(){return this.auth2.isSignedIn.get()}},{key:"getCurrentUser",value:function(){var e=new Promise(function(e,t){gapi.client.happiness.getCurrentUser().execute(function(n){n.code?t(n):e(n)})});return e}},{key:"isProjectOwner",value:function(e,t){var n=!1;return"undefined"!=typeof e.projects&&e.projects.forEach(function(e){e===t&&(n=!0)}),n}},{key:"getJoinedProjects",value:function(){return this.state.joinedProject}},{key:"registerCurrentUser",value:function(e,t,n){var i=new Promise(function(i,a){var s={};s.email=n,s.givenName=e,s.surName=t,gapi.client.qdacity.insertUser(s).execute(function(e){e.code?a(e):i(e)})});return i}},{key:"setType",value:function(){var e=this;this.getCurrentUser().then(function(t){e.setState({type:t.type,joinedProject:t.projects})})}},{key:"setUser",value:function(e){this.setState({name:e.getName(),email:e.getEmail(),picSrc:e.getImageUrl()})}},{key:"signout",value:function(){window.open("https://accounts.google.com/logout")}},{key:"renderAdminBtn",value:function(){return"ADMIN"==this.state.type?React.createElement("a",{href:"admin.html",className:"btn btn-danger btn-sm active"},"Admin"):""}},{key:"render",value:function(){return React.createElement("div",null,React.createElement("div",{className:"navbar-content"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-5"},React.createElement("img",{id:"currentUserPicture",src:this.state.picSrc,alt:"",className:"img-responsive"}),React.createElement("p",{className:"text-center small"})),React.createElement("div",{"class":"col-xs-7"},React.createElement("span",{id:"currentUserName"},this.state.name),React.createElement("p",{id:"currentUserEmail",className:"text-muted small"},this.state.email),React.createElement("div",{"class":"divider"}),this.renderAdminBtn()))),React.createElement("div",{className:"navbar-footer"},React.createElement("div",{className:"navbar-footer-content"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-6"},React.createElement("a",{id:"navBtnSwitchAccount",href:"#",className:"btn btn-default btn-sm",onClick:this.changeAccount.bind(this)},"Switch User")),React.createElement("div",{className:"col-xs-6"},React.createElement("a",{id:"navBtnSignOut",className:"btn btn-default btn-sm pull-right",onClick:this.signout.bind(this)},"Sign Out"))))))}}]),t}(React.Component);t["default"]=o},function(e,t,n){var i,a;!function(s,o){"undefined"!=typeof e&&e.exports?e.exports=o():(i=o,a="function"==typeof i?i.call(t,n,t,e):i,!(void 0!==a&&(e.exports=a)))}("$script",function(){function e(e,t){for(var n=0,i=e.length;n<i;++n)if(!t(e[n]))return r;return 1}function t(t,n){e(t,function(e){return!n(e)})}function n(s,o,c){function r(e){return e.call?e():d[e]}function u(){if(!--y){d[h]=1,v&&v();for(var n in f)e(n.split("|"),r)&&!t(f[n],r)&&(f[n]=[])}}s=s[l]?s:[s];var p=o&&o.call,v=p?o:c,h=p?s.join(""):o,y=s.length;return setTimeout(function(){t(s,function e(t,n){return null===t?u():(n||/^https?:\/\//.test(t)||!a||(t=t.indexOf(".js")===-1?a+t+".js":a+t),g[t]?(h&&(m[h]=1),2==g[t]?u():setTimeout(function(){e(t,!0)},0)):(g[t]=1,h&&(m[h]=1),void i(t,u)))})},0),n}function i(e,t){var n,i=o.createElement("script");i.onload=i.onerror=i[p]=function(){i[u]&&!/^c|loade/.test(i[u])||n||(i.onload=i[p]=null,n=1,g[e]=2,t())},i.async=1,i.src=s?e+(e.indexOf("?")===-1?"?":"&")+s:e,c.insertBefore(i,c.lastChild)}var a,s,o=document,c=o.getElementsByTagName("head")[0],r=!1,l="push",u="readyState",p="onreadystatechange",d={},m={},f={},g={};return n.get=i,n.order=function(e,t,i){!function a(s){s=e.shift(),e.length?n(s,a):n(s,t,i)}()},n.path=function(e){a=e},n.urlArgs=function(e){s=e},n.ready=function(i,a,s){i=i[l]?i:[i];var o=[];return!t(i,function(e){d[e]||o[l](e)})&&e(i,function(e){return d[e]})?a():!function(e){f[e]=f[e]||[],f[e][l](a),s&&s(o)}(i.join("|")),n},n.done=function(e){n([null],e)},n})}]);